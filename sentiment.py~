from analysis import load_data
from transformers import pipeline

def sentiment_analysis():
    """
    Пример анализа тональности первых 5 заголовков (title) из датасета.
    """
    df = load_data()
    # Берём только непустые title и ограничимся 5 строками для примера
    texts = df['title'].dropna().head(5).tolist()

    # Инициализируем модель (подходит для нескольких языков, в т.ч. английского)
    sentiment_pipeline = pipeline("sentiment-analysis",
                                  model="nlptown/bert-base-multilingual-uncased-sentiment")

    for text in texts:
        result = sentiment_pipeline(text)[0]
        print(f"Текст: {text}")
        print(f"Тональность: {result}\n")

if __name__ == "__main__":
    sentiment_analysis()
